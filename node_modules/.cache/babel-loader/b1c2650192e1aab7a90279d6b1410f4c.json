{"ast":null,"code":"import React,{useEffect}from'react';import{Flex,Heading,Text,Link,Image}from'@chakra-ui/react';import Sidebar from'./Sidebar';import CollectionDisplay from'./CollectionDisplay';import{useSelector,useDispatch}from'../../../reducer';import{getWalletAssetContractsQuery,getNftAssetContractQuery}from'../../../reducer/async/queries';import{selectCollection}from'../../../reducer/slices/collections';import{connectWallet}from'../../../reducer/async/wallet';import logo from\"../../common/assets/splash-logo.svg\";import{MinterButton}from'../../common';export default function Catalog(){var system=useSelector(function(s){return s.system;});var collections=useSelector(function(s){return s.collections;});var dispatch=useDispatch();var globalCollection=collections.collections[collections.globalCollection];useEffect(function(){if(!globalCollection){dispatch(getNftAssetContractQuery(collections.globalCollection));return;}if(collections.selectedCollection===null){dispatch(selectCollection(collections.globalCollection));return;}},[globalCollection,collections.selectedCollection,collections.globalCollection,dispatch]);useEffect(function(){if(system.status==='WalletConnected'){dispatch(getWalletAssetContractsQuery());}},[system.status,dispatch]);var selectedCollection=collections.selectedCollection;if(system.walletReconnectAttempted&&system.status!=='WalletConnected'){return/*#__PURE__*/React.createElement(Flex,{align:\"center\",justifyContent:\"space-between\",w:\"100%\",flex:\"1\",flexDir:\"column\",bg:\"brand.background\"},/*#__PURE__*/React.createElement(Flex,{flexDir:\"column\",align:\"center\",maxW:\"600px\",pt:20},/*#__PURE__*/React.createElement(Image,{src:logo,maxW:\"200px\",pb:40}),/*#__PURE__*/React.createElement(Heading,{color:\"white\",size:\"xl\",pb:8},\"Create NFTs on Tezos\"),/*#__PURE__*/React.createElement(Flex,{minW:\"400px\",justify:\"center\",pb:20},/*#__PURE__*/React.createElement(MinterButton,{variant:\"secondaryActionLined\",onClick:function onClick(e){e.preventDefault();dispatch(connectWallet());}},\"Connect your wallet\"))),/*#__PURE__*/React.createElement(Flex,{width:\"100%\",bg:\"brand.darkGray\",color:\"brand.lightGray\",fontFamily:\"mono\",paddingX:10,paddingY:4,justifyContent:\"space-between\"},/*#__PURE__*/React.createElement(Text,{fontSize:\"xs\"},\"OpenMinter Version v\",process.env.REACT_APP_VERSION),/*#__PURE__*/React.createElement(Flex,null,/*#__PURE__*/React.createElement(Link,{fontSize:\"xs\",textDecor:\"underline\",href:\"https://github.com/tqtezos/minter\"},\"GitHub\"))));}return/*#__PURE__*/React.createElement(Flex,{flex:\"1\",w:\"100%\",minHeight:\"0\",flexDir:{base:'column',md:'row'}},/*#__PURE__*/React.createElement(Flex,{w:\"250px\",h:\"100%\",flexDir:\"column\",overflowY:\"scroll\",display:{base:'none',md:'flex'}},/*#__PURE__*/React.createElement(Sidebar,null)),/*#__PURE__*/React.createElement(CollectionDisplay,{address:selectedCollection}));}","map":{"version":3,"sources":["/Users/frankenstein/projects/minter/src/components/Collections/Catalog/index.tsx"],"names":["React","useEffect","Flex","Heading","Text","Link","Image","Sidebar","CollectionDisplay","useSelector","useDispatch","getWalletAssetContractsQuery","getNftAssetContractQuery","selectCollection","connectWallet","MinterButton","Catalog","system","s","collections","dispatch","globalCollection","selectedCollection","status","walletReconnectAttempted","logo","e","preventDefault","process","env","REACT_APP_VERSION","base","md"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Flex, Heading, Text, Link, Image } from '@chakra-ui/react';\nimport Sidebar from './Sidebar';\nimport CollectionDisplay from './CollectionDisplay';\nimport { useSelector, useDispatch } from '../../../reducer';\nimport {\n  getWalletAssetContractsQuery,\n  getNftAssetContractQuery\n} from '../../../reducer/async/queries';\nimport { selectCollection } from '../../../reducer/slices/collections';\nimport { connectWallet } from '../../../reducer/async/wallet';\nimport logo from '../../common/assets/splash-logo.svg';\nimport { MinterButton } from '../../common';\n\nexport default function Catalog() {\n  const system = useSelector(s => s.system);\n  const collections = useSelector(s => s.collections);\n  const dispatch = useDispatch();\n\n  const globalCollection =\n    collections.collections[collections.globalCollection];\n\n  useEffect(() => {\n    if (!globalCollection) {\n      dispatch(getNftAssetContractQuery(collections.globalCollection));\n      return;\n    }\n    if (collections.selectedCollection === null) {\n      dispatch(selectCollection(collections.globalCollection));\n      return;\n    }\n  }, [\n    globalCollection,\n    collections.selectedCollection,\n    collections.globalCollection,\n    dispatch\n  ]);\n\n  useEffect(() => {\n    if (system.status === 'WalletConnected') {\n      dispatch(getWalletAssetContractsQuery());\n    }\n  }, [system.status, dispatch]);\n\n  const selectedCollection = collections.selectedCollection;\n  if (system.walletReconnectAttempted && system.status !== 'WalletConnected') {\n    return (\n      <Flex\n        align=\"center\"\n        justifyContent=\"space-between\"\n        w=\"100%\"\n        flex=\"1\"\n        flexDir=\"column\"\n        bg=\"brand.background\"\n      >\n        <Flex flexDir=\"column\" align=\"center\" maxW=\"600px\" pt={20}>\n          <Image src={logo} maxW=\"200px\" pb={40} />\n          <Heading color=\"white\" size=\"xl\" pb={8}>\n            Create NFTs on Tezos\n          </Heading>\n          <Flex minW=\"400px\" justify=\"center\" pb={20}>\n            <MinterButton\n              variant=\"secondaryActionLined\"\n              onClick={e => {\n                e.preventDefault();\n                dispatch(connectWallet());\n              }}\n            >\n              Connect your wallet\n            </MinterButton>\n          </Flex>\n        </Flex>\n        <Flex\n          width=\"100%\"\n          bg=\"brand.darkGray\"\n          color=\"brand.lightGray\"\n          fontFamily=\"mono\"\n          paddingX={10}\n          paddingY={4}\n          justifyContent=\"space-between\"\n        >\n          <Text fontSize=\"xs\">\n            OpenMinter Version v{process.env.REACT_APP_VERSION}\n          </Text>\n          <Flex>\n            <Link\n              fontSize=\"xs\"\n              textDecor=\"underline\"\n              href=\"https://github.com/tqtezos/minter\"\n            >\n              GitHub\n            </Link>\n          </Flex>\n        </Flex>\n      </Flex>\n    );\n  }\n\n  return (\n    <Flex\n      flex=\"1\"\n      w=\"100%\"\n      minHeight=\"0\"\n      flexDir={{\n        base: 'column',\n        md: 'row'\n      }}\n    >\n      <Flex\n        w=\"250px\"\n        h=\"100%\"\n        flexDir=\"column\"\n        overflowY=\"scroll\"\n        display={{\n          base: 'none',\n          md: 'flex'\n        }}\n      >\n        <Sidebar />\n      </Flex>\n      <CollectionDisplay address={selectedCollection} />\n    </Flex>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}