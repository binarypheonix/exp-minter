{"ast":null,"code":"import _regeneratorRuntime from\"/Users/frankenstein/projects/minter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/frankenstein/projects/minter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/frankenstein/projects/minter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef}from'react';import{useLocation}from'wouter';import{Box,Flex,Image,Link,Text,Menu,MenuButton,MenuList,useDisclosure,Drawer,DrawerOverlay,DrawerContent,DrawerCloseButton,DrawerBody,Heading}from'@chakra-ui/react';import{Plus,Menu as HamburgerIcon}from'react-feather';import{RiStore2Line}from'react-icons/ri';import{MdCollections}from'react-icons/md';import headerLogo from\"./assets/header-logo.svg\";import{useSelector,useDispatch}from'../../reducer';import{connectWallet,disconnectWallet}from'../../reducer/async/wallet';import{MinterButton}from'.';import logo from\"./assets/splash-logo.svg\";import wallet_icon from\"./assets/wallet.svg\";function MobileHeaderLink(props){var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];var selected=location===props.to;return/*#__PURE__*/React.createElement(Link,{href:props.to,onClick:function onClick(e){e.preventDefault();setLocation(props.to);if(props.onClick){props.onClick();}},textDecor:\"none\"},/*#__PURE__*/React.createElement(Heading,{fontWeight:selected?'600':'normal',color:\"brand.background\",mb:4,pl:selected?4:0,borderLeft:selected?'5px solid':'none',borderColor:\"brand.blue\"},props.children));}function DesktopHeaderLink(props){var _useLocation3=useLocation(),_useLocation4=_slicedToArray(_useLocation3,2),location=_useLocation4[0],setLocation=_useLocation4[1];var selected=location===props.to;return/*#__PURE__*/React.createElement(Link,{href:props.to,onClick:function onClick(e){e.preventDefault();setLocation(props.to);},textDecor:\"none\",borderRadius:\"10px\",alignItems:\"center\",fontWeight:\"600\",px:3,py:2,ml:4,bg:selected?'gray.700':'none',color:selected?'gray.400':'gray.200',display:\"flex\",transition:\"none\",_hover:{textDecor:'none',bg:'gray.700',color:selected?'gray.400':'gray.100'}},props.children);}function WalletInfo(props){return/*#__PURE__*/React.createElement(Flex,{flexDir:\"row\",align:\"center\",my:4},/*#__PURE__*/React.createElement(Box,{borderRadius:\"100%\",width:10,height:10,bg:\"brand.darkGray\",p:1},/*#__PURE__*/React.createElement(Image,{src:\"https://services.tzkt.io/v1/avatars2/\".concat(props.tzPublicKey)})),/*#__PURE__*/React.createElement(Text,{fontFamily:\"mono\",ml:2},props.tzPublicKey));}function WalletDisplay(){var _useLocation5=useLocation(),_useLocation6=_slicedToArray(_useLocation5,2),setLocation=_useLocation6[1];var system=useSelector(function(s){return s.system;});var dispatch=useDispatch();return/*#__PURE__*/React.createElement(React.Fragment,null,system.status==='WalletConnected'?/*#__PURE__*/React.createElement(Menu,{placement:\"bottom-end\",offset:[4,24]},/*#__PURE__*/React.createElement(MenuButton,{padding:2,_hover:{textDecoration:'none',background:'#2D3748',color:'#EDF2F7'}},/*#__PURE__*/React.createElement(Image,{src:wallet_icon,width:4,height:\"auto\",style:{filter:'invert(1)'}})),/*#__PURE__*/React.createElement(MenuList,{color:\"brand.black\"},/*#__PURE__*/React.createElement(Flex,{flexDir:\"column\",px:4,py:2},/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:\"600\"},\"Network: \",system.config.network),/*#__PURE__*/React.createElement(WalletInfo,{tzPublicKey:system.tzPublicKey}),/*#__PURE__*/React.createElement(MinterButton,{alignSelf:\"flex-start\",variant:\"cancelAction\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(disconnectWallet());case 2:setLocation('/');case 3:case\"end\":return _context.stop();}}},_callee);}))},\"Disconnect\")))):/*#__PURE__*/React.createElement(MinterButton,{variant:\"secondaryAction\",onClick:function onClick(e){e.preventDefault();dispatch(connectWallet());}},\"Connect Wallet\",/*#__PURE__*/React.createElement(Image,{src:wallet_icon,width:\"auto\",height:\"40%\",paddingLeft:3})));}function NavItems(){var system=useSelector(function(s){return s.system;});var dispatch=useDispatch();var _useLocation7=useLocation(),_useLocation8=_slicedToArray(_useLocation7,2),setLocation=_useLocation8[1];var _useDisclosure=useDisclosure(),isOpen=_useDisclosure.isOpen,onOpen=_useDisclosure.onOpen,onClose=_useDisclosure.onClose;var btnRef=useRef(null);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Flex,{flex:\"1\",justify:\"flex-end\",display:{base:'flex',md:'none'}},/*#__PURE__*/React.createElement(Box,{color:\"brand.lightGray\",ref:btnRef,cursor:\"pointer\",onClick:onOpen},/*#__PURE__*/React.createElement(HamburgerIcon,null)),/*#__PURE__*/React.createElement(Drawer,{isOpen:isOpen,onClose:onClose,placement:\"right\",finalFocusRef:btnRef},/*#__PURE__*/React.createElement(DrawerOverlay,null,/*#__PURE__*/React.createElement(DrawerContent,null,/*#__PURE__*/React.createElement(DrawerCloseButton,null),/*#__PURE__*/React.createElement(DrawerBody,{mt:12},/*#__PURE__*/React.createElement(Flex,{flexDir:\"column\",justifyContent:\"space-between\",height:\"100%\"},/*#__PURE__*/React.createElement(Flex,{flexDir:\"column\"},/*#__PURE__*/React.createElement(MobileHeaderLink,{to:\"/marketplace\",onClick:onClose},\"Marketplace\"),/*#__PURE__*/React.createElement(MobileHeaderLink,{to:\"/collections\",onClick:onClose},\"Collections\"),system.status==='WalletConnected'?/*#__PURE__*/React.createElement(MobileHeaderLink,{to:\"/create\",onClick:onClose},\"New Asset\"):null),system.status==='WalletConnected'?/*#__PURE__*/React.createElement(MinterButton,{variant:\"cancelAction\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return dispatch(disconnectWallet());case 2:setLocation('/');case 3:case\"end\":return _context2.stop();}}},_callee2);})),mb:4},\"Disconnect Wallet\"):/*#__PURE__*/React.createElement(MinterButton,{variant:\"secondaryAction\",onClick:function onClick(e){e.preventDefault();dispatch(connectWallet());},mb:4},\"Connect Wallet\",/*#__PURE__*/React.createElement(Image,{src:wallet_icon,width:\"auto\",height:\"40%\",paddingLeft:3})))))))),/*#__PURE__*/React.createElement(Flex,{flex:\"1\",justify:\"flex-end\",display:{base:'none',md:'flex'}},/*#__PURE__*/React.createElement(DesktopHeaderLink,{to:\"/marketplace\"},/*#__PURE__*/React.createElement(Box,{color:\"brand.turquoise\"},/*#__PURE__*/React.createElement(RiStore2Line,{size:16})),/*#__PURE__*/React.createElement(Text,{ml:2},\"Marketplace\")),system.status==='WalletConnected'?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(DesktopHeaderLink,{to:\"/collections\"},/*#__PURE__*/React.createElement(Box,{color:\"brand.turquoise\"},/*#__PURE__*/React.createElement(MdCollections,{size:16})),/*#__PURE__*/React.createElement(Text,{ml:2},\"Collections\")),/*#__PURE__*/React.createElement(DesktopHeaderLink,{to:\"/create\"},/*#__PURE__*/React.createElement(Box,{color:\"brand.blue\"},/*#__PURE__*/React.createElement(Plus,{size:16,strokeWidth:\"3\"})),/*#__PURE__*/React.createElement(Text,{ml:2},\"New Asset\"))):null,/*#__PURE__*/React.createElement(Flex,{alignItems:\"center\",color:\"brand.gray\",paddingLeft:4,marginLeft:4,borderLeft:\"2px solid\",borderColor:\"brand.darkGray\"},/*#__PURE__*/React.createElement(WalletDisplay,null))));}export function Header(){var _useLocation9=useLocation(),_useLocation10=_slicedToArray(_useLocation9,2),setLocation=_useLocation10[1];return/*#__PURE__*/React.createElement(Flex,{width:\"100%\",bg:\"brand.black\",paddingX:4,paddingY:3,alignItems:\"center\",justifyContent:\"space-between\"},/*#__PURE__*/React.createElement(Image,{display:{base:'none',md:'block'},maxH:\"28px\",marginTop:\"4px\",src:logo,onClick:function onClick(e){e.preventDefault();setLocation('/marketplace');},cursor:\"pointer\"}),/*#__PURE__*/React.createElement(Image,{display:{base:'block',md:'none'},maxW:\"38px\",src:headerLogo,onClick:function onClick(e){e.preventDefault();setLocation('/marketplace');},cursor:\"pointer\"}),/*#__PURE__*/React.createElement(NavItems,null));}export default Header;","map":{"version":3,"sources":["/Users/frankenstein/projects/minter/src/components/common/Header.tsx"],"names":["React","useRef","useLocation","Box","Flex","Image","Link","Text","Menu","MenuButton","MenuList","useDisclosure","Drawer","DrawerOverlay","DrawerContent","DrawerCloseButton","DrawerBody","Heading","Plus","HamburgerIcon","RiStore2Line","MdCollections","useSelector","useDispatch","connectWallet","disconnectWallet","MinterButton","MobileHeaderLink","props","location","setLocation","selected","to","e","preventDefault","onClick","children","DesktopHeaderLink","textDecor","bg","color","WalletInfo","tzPublicKey","WalletDisplay","system","s","dispatch","status","textDecoration","background","wallet_icon","filter","config","network","NavItems","isOpen","onOpen","onClose","btnRef","base","md","Header","logo","headerLogo"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport { useLocation } from 'wouter';\nimport {\n  Box,\n  Flex,\n  Image,\n  Link,\n  Text,\n  Menu,\n  MenuButton,\n  MenuList,\n  useDisclosure,\n  Drawer,\n  DrawerOverlay,\n  DrawerContent,\n  DrawerCloseButton,\n  DrawerBody,\n  Heading\n} from '@chakra-ui/react';\nimport { Plus, Menu as HamburgerIcon } from 'react-feather';\nimport { RiStore2Line } from 'react-icons/ri';\nimport { MdCollections } from 'react-icons/md';\nimport headerLogo from './assets/header-logo.svg';\nimport { useSelector, useDispatch } from '../../reducer';\nimport { connectWallet, disconnectWallet } from '../../reducer/async/wallet';\nimport { MinterButton } from '.';\nimport logo from './assets/splash-logo.svg';\nimport wallet_icon from './assets/wallet.svg';\n\ninterface MobileHeaderLinkProps {\n  to: string;\n  children: React.ReactNode;\n  onClick?: () => void;\n}\n\nfunction MobileHeaderLink(props: MobileHeaderLinkProps) {\n  const [location, setLocation] = useLocation();\n  const selected = location === props.to;\n  return (\n    <Link\n      href={props.to}\n      onClick={e => {\n        e.preventDefault();\n        setLocation(props.to);\n        if (props.onClick) {\n          props.onClick();\n        }\n      }}\n      textDecor=\"none\"\n    >\n      <Heading\n        fontWeight={selected ? '600' : 'normal'}\n        color=\"brand.background\"\n        mb={4}\n        pl={selected ? 4 : 0}\n        borderLeft={selected ? '5px solid' : 'none'}\n        borderColor=\"brand.blue\"\n      >\n        {props.children}\n      </Heading>\n    </Link>\n  );\n}\n\ninterface DesktopHeaderLinkProps {\n  to: string;\n  children: React.ReactNode;\n}\n\nfunction DesktopHeaderLink(props: DesktopHeaderLinkProps) {\n  const [location, setLocation] = useLocation();\n  const selected = location === props.to;\n  return (\n    <Link\n      href={props.to}\n      onClick={e => {\n        e.preventDefault();\n        setLocation(props.to);\n      }}\n      textDecor=\"none\"\n      borderRadius=\"10px\"\n      alignItems=\"center\"\n      fontWeight=\"600\"\n      px={3}\n      py={2}\n      ml={4}\n      bg={selected ? 'gray.700' : 'none'}\n      color={selected ? 'gray.400' : 'gray.200'}\n      display=\"flex\"\n      transition=\"none\"\n      _hover={{\n        textDecor: 'none',\n        bg: 'gray.700',\n        color: selected ? 'gray.400' : 'gray.100'\n      }}\n    >\n      {props.children}\n    </Link>\n  );\n}\n\nfunction WalletInfo(props: { tzPublicKey: string }) {\n  return (\n    <Flex flexDir=\"row\" align=\"center\" my={4}>\n      <Box borderRadius=\"100%\" width={10} height={10} bg=\"brand.darkGray\" p={1}>\n        <Image\n          src={`https://services.tzkt.io/v1/avatars2/${props.tzPublicKey}`}\n        />\n      </Box>\n      <Text fontFamily=\"mono\" ml={2}>\n        {props.tzPublicKey}\n      </Text>\n    </Flex>\n  );\n}\n\nfunction WalletDisplay() {\n  const [, setLocation] = useLocation();\n  const system = useSelector(s => s.system);\n  const dispatch = useDispatch();\n  return (\n    <>\n      {system.status === 'WalletConnected' ? (\n        <Menu placement=\"bottom-end\" offset={[4, 24]}>\n          <MenuButton\n            padding={2}\n            _hover={{\n              textDecoration: 'none',\n              background: '#2D3748',\n              color: '#EDF2F7'\n            }}\n          >\n            <Image\n              src={wallet_icon}\n              width={4}\n              height=\"auto\"\n              style={{ filter: 'invert(1)' }}\n            />\n          </MenuButton>\n          <MenuList color=\"brand.black\">\n            <Flex flexDir=\"column\" px={4} py={2}>\n              <Text fontSize={16} fontWeight=\"600\">\n                Network: {system.config.network}\n              </Text>\n              <WalletInfo tzPublicKey={system.tzPublicKey} />\n              <MinterButton\n                alignSelf=\"flex-start\"\n                variant=\"cancelAction\"\n                onClick={async () => {\n                  await dispatch(disconnectWallet());\n                  setLocation('/');\n                }}\n              >\n                Disconnect\n              </MinterButton>\n            </Flex>\n          </MenuList>\n        </Menu>\n      ) : (\n        <MinterButton\n          variant=\"secondaryAction\"\n          onClick={e => {\n            e.preventDefault();\n            dispatch(connectWallet());\n          }}\n        >\n          Connect Wallet\n          <Image src={wallet_icon} width=\"auto\" height=\"40%\" paddingLeft={3} />\n        </MinterButton>\n      )}\n    </>\n  );\n}\n\nfunction NavItems() {\n  const system = useSelector(s => s.system);\n  const dispatch = useDispatch();\n  const [, setLocation] = useLocation();\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const btnRef = useRef(null);\n\n  return (\n    <>\n      {/* Mobile */}\n      <Flex\n        flex=\"1\"\n        justify=\"flex-end\"\n        display={{\n          base: 'flex',\n          md: 'none'\n        }}\n      >\n        <Box\n          color=\"brand.lightGray\"\n          ref={btnRef}\n          cursor=\"pointer\"\n          onClick={onOpen}\n        >\n          <HamburgerIcon />\n        </Box>\n        <Drawer\n          isOpen={isOpen}\n          onClose={onClose}\n          placement=\"right\"\n          finalFocusRef={btnRef}\n        >\n          <DrawerOverlay>\n            <DrawerContent>\n              <DrawerCloseButton />\n              <DrawerBody mt={12}>\n                <Flex\n                  flexDir=\"column\"\n                  justifyContent=\"space-between\"\n                  height=\"100%\"\n                >\n                  <Flex flexDir=\"column\">\n                    <MobileHeaderLink to=\"/marketplace\" onClick={onClose}>\n                      Marketplace\n                    </MobileHeaderLink>\n                    <MobileHeaderLink to=\"/collections\" onClick={onClose}>\n                      Collections\n                    </MobileHeaderLink>\n                    {system.status === 'WalletConnected' ? (\n                      <MobileHeaderLink to=\"/create\" onClick={onClose}>\n                        New Asset\n                      </MobileHeaderLink>\n                    ) : null}\n                  </Flex>\n                  {system.status === 'WalletConnected' ? (\n                    <MinterButton\n                      variant=\"cancelAction\"\n                      onClick={async () => {\n                        await dispatch(disconnectWallet());\n                        setLocation('/');\n                      }}\n                      mb={4}\n                    >\n                      Disconnect Wallet\n                    </MinterButton>\n                  ) : (\n                    <MinterButton\n                      variant=\"secondaryAction\"\n                      onClick={e => {\n                        e.preventDefault();\n                        dispatch(connectWallet());\n                      }}\n                      mb={4}\n                    >\n                      Connect Wallet\n                      <Image\n                        src={wallet_icon}\n                        width=\"auto\"\n                        height=\"40%\"\n                        paddingLeft={3}\n                      />\n                    </MinterButton>\n                  )}\n                </Flex>\n              </DrawerBody>\n            </DrawerContent>\n          </DrawerOverlay>\n        </Drawer>\n      </Flex>\n      {/* Desktop */}\n      <Flex\n        flex=\"1\"\n        justify=\"flex-end\"\n        display={{\n          base: 'none',\n          md: 'flex'\n        }}\n      >\n        <DesktopHeaderLink to=\"/marketplace\">\n          <Box color=\"brand.turquoise\">\n            <RiStore2Line size={16} />\n          </Box>\n          <Text ml={2}>Marketplace</Text>\n        </DesktopHeaderLink>\n        {system.status === 'WalletConnected' ? (\n          <>\n            <DesktopHeaderLink to=\"/collections\">\n              <Box color=\"brand.turquoise\">\n                <MdCollections size={16} />\n              </Box>\n              <Text ml={2}>Collections</Text>\n            </DesktopHeaderLink>\n            <DesktopHeaderLink to=\"/create\">\n              <Box color=\"brand.blue\">\n                <Plus size={16} strokeWidth=\"3\" />\n              </Box>\n              <Text ml={2}>New Asset</Text>\n            </DesktopHeaderLink>\n          </>\n        ) : null}\n        <Flex\n          alignItems=\"center\"\n          color=\"brand.gray\"\n          paddingLeft={4}\n          marginLeft={4}\n          borderLeft=\"2px solid\"\n          borderColor=\"brand.darkGray\"\n        >\n          <WalletDisplay />\n        </Flex>\n      </Flex>\n    </>\n  );\n}\n\nexport function Header() {\n  const [, setLocation] = useLocation();\n\n  return (\n    <Flex\n      width=\"100%\"\n      bg=\"brand.black\"\n      paddingX={4}\n      paddingY={3}\n      alignItems=\"center\"\n      justifyContent=\"space-between\"\n    >\n      <Image\n        display={{\n          base: 'none',\n          md: 'block'\n        }}\n        maxH=\"28px\"\n        marginTop=\"4px\"\n        src={logo}\n        onClick={e => {\n          e.preventDefault();\n          setLocation('/marketplace');\n        }}\n        cursor=\"pointer\"\n      />\n      <Image\n        display={{\n          base: 'block',\n          md: 'none'\n        }}\n        maxW=\"38px\"\n        src={headerLogo}\n        onClick={e => {\n          e.preventDefault();\n          setLocation('/marketplace');\n        }}\n        cursor=\"pointer\"\n      />\n      <NavItems />\n    </Flex>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}