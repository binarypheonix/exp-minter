{"ast":null,"code":"var _jsxFileName = \"/Users/frankenstein/projects/minter/src/components/Collections/TokenDetail/index.tsx\";\nimport React, { useEffect } from 'react';\nimport { Accordion, AccordionButton, AccordionIcon, AccordionItem, AccordionPanel, Box, Button, Flex, Heading, Link, Menu, MenuList, Modal, ModalCloseButton, ModalContent, Text, useDisclosure } from '@chakra-ui/react';\nimport { ChevronLeft, HelpCircle, MoreHorizontal } from 'react-feather';\nimport { MinterButton, MinterMenuButton, MinterMenuItem } from '../../common';\nimport { TransferTokenModal } from '../../common/modals/TransferToken';\nimport { SellTokenButton } from '../../common/modals/SellToken';\nimport { CancelTokenSaleButton } from '../../common/modals/CancelTokenSale';\nimport { BuyTokenButton } from '../../common/modals/BuyToken';\nimport { useSelector, useDispatch } from '../../../reducer';\nimport { getContractNftsQuery, getNftAssetContractQuery } from '../../../reducer/async/queries';\nimport { TokenMedia } from '../../common/TokenMedia';\nimport lk from \"../../common/assets/link-icon.svg\";\nimport tz from \"../../common/assets/tezos-sym.svg\";\nimport { Maximize2 } from 'react-feather';\n\nfunction NotFound() {\n  return /*#__PURE__*/React.createElement(Flex, {\n    flex: \"1\",\n    width: \"100%\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    w: \"100%\",\n    flex: \"1\",\n    flexDir: \"column\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    px: 32,\n    py: 16,\n    bg: \"gray.100\",\n    textAlign: \"center\",\n    align: \"center\",\n    borderRadius: \"5px\",\n    flexDir: \"column\",\n    fontSize: \"xl\",\n    borderColor: \"gray.200\",\n    borderWidth: \"5px\",\n    mt: 36,\n    color: \"gray.300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HelpCircle, {\n    size: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Heading, {\n    size: \"xl\",\n    fontWeight: \"normal\",\n    pt: 8,\n    color: \"gray.400\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Token not found\"))));\n}\n\nfunction TokenDetail({\n  contractAddress,\n  tokenId\n}) {\n  var _token$sale, _token$metadata, _token$metadata2, _state$collections$st, _token$metadata3, _token$metadata3$attr;\n\n  const {\n    system,\n    collections: state\n  } = useSelector(s => s);\n  const disclosure = useDisclosure();\n  const dispatch = useDispatch();\n  const collection = state.collections[contractAddress];\n  const {\n    isOpen,\n    onOpen,\n    onClose\n  } = useDisclosure();\n  const collectionUndefined = collection === undefined;\n  useEffect(() => {\n    if (collectionUndefined) {\n      dispatch(getNftAssetContractQuery(contractAddress));\n    } else {\n      dispatch(getContractNftsQuery(contractAddress));\n    }\n  }, [contractAddress, tokenId, collectionUndefined, dispatch]);\n\n  if (!(collection === null || collection === void 0 ? void 0 : collection.tokens)) {\n    return null;\n  }\n\n  const token = collection.tokens.find(token => token.id === tokenId);\n\n  if (!token) {\n    return /*#__PURE__*/React.createElement(NotFound, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const isOwner = system.tzPublicKey && (system.tzPublicKey === token.owner || system.tzPublicKey === ((_token$sale = token.sale) === null || _token$sale === void 0 ? void 0 : _token$sale.seller));\n  return /*#__PURE__*/React.createElement(Flex, {\n    flexDir: \"column\",\n    bg: \"brand.brightGray\",\n    flexGrow: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    onClose: onClose,\n    size: \"full\",\n    scrollBehavior: \"inside\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalContent, {\n    height: \"100vh\",\n    maxHeight: \"unset\",\n    width: \"100vw\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexWrap: \"nowrap\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    position: \"relative\",\n    backgroundColor: \"#111111fc\",\n    zIndex: \"2000\",\n    margin: \"0 !important\",\n    borderRadius: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TokenMedia, Object.assign({\n    key: `${token.address}-${token.id}`,\n    config: system.config\n  }, token, {\n    metadata: token === null || token === void 0 ? void 0 : token.metadata,\n    maxW: \"95vw\",\n    maxH: \"95vh\",\n    objectFit: \"scale-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(ModalCloseButton, {\n    position: \"absolute\",\n    right: \"0px !important\",\n    display: \"block !important\",\n    fontSize: \"18px\",\n    top: \"0px !important\",\n    borderLeft: \"2px solid #aaa\",\n    color: \"white\",\n    borderTop: \"2px solid #aaa\",\n    width: \"4rem\",\n    height: \"4rem\",\n    borderRight: \"none\",\n    borderBottom: \"none\",\n    borderBottomEndRadius: \"0\",\n    borderTopStartRadius: \"0\",\n    borderTopEndRadius: \"0\",\n    border: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Flex, {\n    justifyContent: \"flex-start\",\n    width: \"4rem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MinterButton, {\n    variant: \"primaryActionInverted\",\n    onClick: e => {\n      e.preventDefault();\n      window.history.back();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    color: \"currentcolor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ChevronLeft, {\n    size: 24,\n    strokeWidth: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Flex, {\n    px: [8, 16],\n    pt: [10, 0],\n    pb: [5, 0],\n    width: ['100%'],\n    maxHeight: [\"30vh\", \"60vh\", \"70vh\"],\n    height: [\"100%\"],\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TokenMedia, Object.assign({\n    key: `${token.address}-${token.id}`,\n    config: system.config\n  }, token, {\n    metadata: token === null || token === void 0 ? void 0 : token.metadata,\n    maxW: \"100%\",\n    maxH: \"100%\",\n    objectFit: \"scale-down\",\n    cursor: \"pointer\",\n    onClick: onOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Flex, {\n    width: \"99vw\",\n    height: \"auto\",\n    justifyContent: \"flex-end\",\n    marginBottom: [3, 2],\n    zIndex: \"50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Maximize2, {\n    size: 16,\n    strokeWidth: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Flex, {\n    width: ['100%'],\n    bg: \"white\",\n    flexDir: \"column\",\n    flexGrow: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    align: \"center\",\n    justify: \"space-evenly\",\n    width: ['100'],\n    mt: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Flex, {\n    width: ['90%', '90%', '70%'],\n    mx: \"auto\",\n    flexDir: \"column\",\n    px: [4, 16],\n    flex: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    flexDir: \"column\",\n    w: \"100%\",\n    bg: \"white\",\n    py: 6,\n    mb: 10,\n    pos: \"relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    textAlign: \"left\",\n    color: \"brand.black\",\n    width: [\"100%\", \"100%\", \"80%\"],\n    fontSize: [\"10vw\", \"3vw\"],\n    display: \"inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, token.title), /*#__PURE__*/React.createElement(Text, {\n    fontSize: \"md\",\n    color: \"brand.neutralGray\",\n    fontWeight: \"bold\",\n    mt: [2, 4],\n    width: ['100%', '100%', '60%'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, token.description || 'No description provided'), /*#__PURE__*/React.createElement(Accordion, {\n    allowToggle: true,\n    mt: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItem, {\n    border: \"none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccordionButton, {\n    p: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    color: \"brand.neutralGray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 19\n    }\n  }, \"Token Info\"), /*#__PURE__*/React.createElement(AccordionIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(AccordionPanel, {\n    pb: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    mt: [4, 8],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    color: \"brand.neutralGray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 21\n    }\n  }, \"Minter:\"), /*#__PURE__*/React.createElement(Text, {\n    color: \"brand.darkGray\",\n    fontWeight: \"bold\",\n    ml: [1],\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    display: \"block\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    href: `/creator/${token === null || token === void 0 ? void 0 : (_token$metadata = token.metadata) === null || _token$metadata === void 0 ? void 0 : _token$metadata.minter}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 23\n    }\n  }, token === null || token === void 0 ? void 0 : (_token$metadata2 = token.metadata) === null || _token$metadata2 === void 0 ? void 0 : _token$metadata2.minter, \"\\xA0\", /*#__PURE__*/React.createElement(\"sup\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 55\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: lk,\n    alt: \"\",\n    width: \"auto\",\n    height: \"auto\",\n    style: {\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 60\n    }\n  }))))), /*#__PURE__*/React.createElement(Flex, {\n    mt: [4, 8],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    color: \"brand.neutralGray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, \"Collection:\"), /*#__PURE__*/React.createElement(Text, {\n    color: \"brand.darkGray\",\n    fontWeight: \"bold\",\n    ml: [1],\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    display: \"block\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    href: `/collection/${contractAddress}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 23\n    }\n  }, state.selectedCollection ? (_state$collections$st = state.collections[state.selectedCollection]) === null || _state$collections$st === void 0 ? void 0 : _state$collections$st.metadata.name : (collection === null || collection === void 0 ? void 0 : collection.metadata.name) ? collection === null || collection === void 0 ? void 0 : collection.metadata.name : contractAddress, \"\\xA0\", /*#__PURE__*/React.createElement(\"sup\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: lk,\n    alt: \"\",\n    width: \"auto\",\n    height: \"auto\",\n    style: {\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 30\n    }\n  }))))), token === null || token === void 0 ? void 0 : (_token$metadata3 = token.metadata) === null || _token$metadata3 === void 0 ? void 0 : (_token$metadata3$attr = _token$metadata3.attributes) === null || _token$metadata3$attr === void 0 ? void 0 : _token$metadata3$attr.map(({\n    name,\n    value\n  }) => /*#__PURE__*/React.createElement(Flex, {\n    key: name + value,\n    mt: [4, 8],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    color: \"brand.neutralGray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 23\n    }\n  }, name, \":\"), /*#__PURE__*/React.createElement(Text, {\n    display: \"block\",\n    color: \"brand.darkGray\",\n    fontWeight: \"bold\",\n    ml: [1],\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 23\n    }\n  }, value)))))), /*#__PURE__*/React.createElement(Flex, {\n    display: ['flex'],\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    width: \"100%\",\n    flexDir: ['column', 'row'],\n    flexWrap: \"wrap\",\n    marginTop: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    justifyContent: [\"flex-start\"],\n    alignItems: \"center\",\n    width: \"100%\",\n    marginTop: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 15\n    }\n  }, token.sale ? isOwner ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, {\n    color: \"brand.black\",\n    fontSize: \"xl\",\n    fontWeight: \"700\",\n    marginRight: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 23\n    }\n  }, token.sale.price, \" \", /*#__PURE__*/React.createElement(\"img\", {\n    src: tz,\n    alt: \"\",\n    width: 10,\n    height: \"auto\",\n    style: {\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 44\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    marginRight: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CancelTokenSaleButton, {\n    contract: token.sale.saleToken.address,\n    tokenId: token.sale.saleToken.tokenId,\n    saleId: token.sale.saleId,\n    saleType: token.sale.type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 25\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Text, {\n    color: \"black\",\n    fontSize: ['md', 'md', 'lg'],\n    mr: 1,\n    fontWeight: \"700\",\n    marginRight: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 23\n    }\n  }, token.sale.price.toFixed(2), \" \", /*#__PURE__*/React.createElement(\"img\", {\n    src: tz,\n    alt: \"\",\n    width: 10,\n    height: \"auto\",\n    style: {\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 55\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(BuyTokenButton, {\n    token: token,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 25\n    }\n  }))) : isOwner ? /*#__PURE__*/React.createElement(Box, {\n    marginRight: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(SellTokenButton, {\n    contract: contractAddress,\n    tokenId: tokenId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null), isOwner ? /*#__PURE__*/React.createElement(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MinterMenuButton, {\n    variant: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MoreHorizontal, {\n    color: \"#25282B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(MenuList, {\n    borderColor: \"brand.lightBlue\",\n    borderRadius: \"2px\",\n    p: 0,\n    minWidth: [100],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 21\n    }\n  }, token.sale ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement(MinterMenuItem, {\n    w: [100],\n    variant: \"primary\",\n    onClick: disclosure.onOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 25\n    }\n  }, \"Transfer\")), /*#__PURE__*/React.createElement(TransferTokenModal, {\n    contractAddress: contractAddress,\n    tokenId: tokenId,\n    disclosure: disclosure,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null)))))));\n}\n\nexport default TokenDetail;","map":{"version":3,"sources":["/Users/frankenstein/projects/minter/src/components/Collections/TokenDetail/index.tsx"],"names":["React","useEffect","Accordion","AccordionButton","AccordionIcon","AccordionItem","AccordionPanel","Box","Button","Flex","Heading","Link","Menu","MenuList","Modal","ModalCloseButton","ModalContent","Text","useDisclosure","ChevronLeft","HelpCircle","MoreHorizontal","MinterButton","MinterMenuButton","MinterMenuItem","TransferTokenModal","SellTokenButton","CancelTokenSaleButton","BuyTokenButton","useSelector","useDispatch","getContractNftsQuery","getNftAssetContractQuery","TokenMedia","Maximize2","NotFound","TokenDetail","contractAddress","tokenId","system","collections","state","s","disclosure","dispatch","collection","isOpen","onOpen","onClose","collectionUndefined","undefined","tokens","token","find","id","isOwner","tzPublicKey","owner","sale","seller","address","config","metadata","e","preventDefault","window","history","back","title","description","minter","lk","display","selectedCollection","name","attributes","map","value","price","tz","saleToken","saleId","type","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport {\n  Accordion,\n  AccordionButton,\n  AccordionIcon,\n  AccordionItem,\n  AccordionPanel,\n  Box,\n  Button,\n  Flex,\n  Heading,\n  Link,\n  Menu,\n  MenuList,\n  Modal,\n  ModalCloseButton,\n  ModalContent,\n  Text,\n  useDisclosure\n} from '@chakra-ui/react';\nimport { ChevronLeft, HelpCircle, MoreHorizontal } from 'react-feather';\nimport { MinterButton, MinterMenuButton, MinterMenuItem } from '../../common';\nimport { TransferTokenModal } from '../../common/modals/TransferToken';\nimport { SellTokenButton } from '../../common/modals/SellToken';\nimport { CancelTokenSaleButton } from '../../common/modals/CancelTokenSale';\nimport { BuyTokenButton } from '../../common/modals/BuyToken';\nimport { useSelector, useDispatch } from '../../../reducer';\nimport {\n  getContractNftsQuery,\n  getNftAssetContractQuery\n} from '../../../reducer/async/queries';\nimport { TokenMedia } from '../../common/TokenMedia';\nimport lk from '../../common/assets/link-icon.svg'\nimport tz from '../../common/assets/tezos-sym.svg'\nimport { Maximize2 } from 'react-feather';\n\nfunction NotFound() {\n  return (\n    <Flex flex=\"1\" width=\"100%\" justify=\"center\">\n      <Flex w=\"100%\" flex=\"1\" flexDir=\"column\" align=\"center\">\n        <Flex\n          px={32}\n          py={16}\n          bg=\"gray.100\"\n          textAlign=\"center\"\n          align=\"center\"\n          borderRadius=\"5px\"\n          flexDir=\"column\"\n          fontSize=\"xl\"\n          borderColor=\"gray.200\"\n          borderWidth=\"5px\"\n          mt={36}\n          color=\"gray.300\"\n        >\n          <HelpCircle size=\"100px\" />\n          <Heading size=\"xl\" fontWeight=\"normal\" pt={8} color=\"gray.400\">\n            Token not found\n          </Heading>\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n}\n\ninterface TokenDetailProps {\n  contractAddress: string;\n  tokenId: number;\n}\n\nfunction TokenDetail({ contractAddress, tokenId }: TokenDetailProps) {\n  const { system, collections: state } = useSelector(s => s);\n  const disclosure = useDisclosure();\n  const dispatch = useDispatch();\n  const collection = state.collections[contractAddress];\n  const { isOpen, onOpen, onClose } = useDisclosure();\n\n  const collectionUndefined = collection === undefined;\n\n  useEffect(() => {\n    if (collectionUndefined) {\n      dispatch(getNftAssetContractQuery(contractAddress));\n    } else {\n      dispatch(getContractNftsQuery(contractAddress));\n    }\n  }, [contractAddress, tokenId, collectionUndefined, dispatch]);\n\n  if (!collection?.tokens) {\n    return null;\n  }\n\n  const token = collection.tokens.find(token => token.id === tokenId);\n  if (!token) {\n    return <NotFound />;\n  }\n\n  const isOwner =\n    system.tzPublicKey &&\n    (system.tzPublicKey === token.owner ||\n      system.tzPublicKey === token.sale?.seller);\n\n  return (\n    <Flex flexDir=\"column\" bg=\"brand.brightGray\" flexGrow={1}>\n      <Modal\n        isOpen={isOpen}\n        onClose={onClose}\n        size=\"full\"\n        scrollBehavior=\"inside\"\n      >\n        <ModalContent\n          height=\"100vh\"\n          maxHeight=\"unset\"\n          width=\"100vw\"\n          display=\"flex\"\n          flexDirection=\"column\"\n          flexWrap=\"nowrap\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          position=\"relative\"\n          backgroundColor=\"#111111fc\"\n          zIndex=\"2000\"\n          margin=\"0 !important\"\n          borderRadius=\"0\"\n        >\n          <TokenMedia\n            key={`${token.address}-${token.id}`}\n            config={system.config}\n            {...token}\n            metadata={token?.metadata}\n            maxW=\"95vw\"\n            maxH=\"95vh\"\n            objectFit=\"scale-down\"\n          />\n          <ModalCloseButton\n            position=\"absolute\"\n            right=\"0px !important\"\n            display=\"block !important\"\n            fontSize=\"18px\"\n            top=\"0px !important\"\n            borderLeft=\"2px solid #aaa\"\n            color=\"white\"\n            borderTop=\"2px solid #aaa\"\n            width=\"4rem\"\n            height=\"4rem\"\n            borderRight=\"none\"\n            borderBottom=\"none\"\n            borderBottomEndRadius=\"0\"\n            borderTopStartRadius=\"0\"\n            borderTopEndRadius=\"0\"\n            border=\"0\"\n          />\n        </ModalContent>\n      </Modal>\n      <Flex justifyContent=\"flex-start\" width=\"4rem\">\n        <MinterButton\n          variant=\"primaryActionInverted\"\n          onClick={e => {\n            e.preventDefault();\n            window.history.back();\n          }}\n        >\n          <Box color=\"currentcolor\">\n            <ChevronLeft size={24} strokeWidth=\"3\" />\n          </Box>\n        </MinterButton>\n      </Flex>\n      <Flex\n        px={[8, 16]}\n        pt={[10, 0]}\n        pb={[5, 0]}\n        width={['100%']}\n        maxHeight={[\"30vh\", \"60vh\", \"70vh\"]}\n        height={[\"100%\"]}\n        justifyContent=\"center\"\n      >\n        <TokenMedia\n          key={`${token.address}-${token.id}`}\n          config={system.config}\n          {...token}\n          metadata={token?.metadata}\n          maxW=\"100%\"\n          maxH=\"100%\"\n          objectFit=\"scale-down\"\n          cursor=\"pointer\"\n          onClick={onOpen}\n        />\n      </Flex>\n      <Flex width=\"99vw\" height=\"auto\" justifyContent=\"flex-end\" marginBottom={[3, 2]} zIndex=\"50\">\n        <Button onClick={onOpen}>\n          <Maximize2 size={16} strokeWidth=\"3\" />\n        </Button>\n      </Flex>\n      <Flex width={['100%']} bg=\"white\" flexDir=\"column\" flexGrow={1}>\n        <Flex align=\"center\" justify=\"space-evenly\" width={['100']} mt=\"4\">\n        </Flex>\n        <Flex\n          width={['90%', '90%', '70%']}\n          mx=\"auto\"\n          flexDir=\"column\"\n          px={[4, 16]}\n          flex=\"1\"\n        >\n          <Flex\n            flexDir=\"column\"\n            w=\"100%\"\n            bg=\"white\"\n            py={6}\n            mb={10}\n            pos=\"relative\"\n          >\n            <Heading textAlign=\"left\" color=\"brand.black\" width={[\"100%\", \"100%\", \"80%\"]} fontSize={[\"10vw\", \"3vw\"]} display=\"inline-block\">\n              {token.title}\n            </Heading>\n            <Text\n              fontSize=\"md\"\n              color=\"brand.neutralGray\"\n              fontWeight=\"bold\"\n              mt={[2, 4]}\n              width={['100%', '100%', '60%']}\n            >\n              {token.description || 'No description provided'}\n            </Text>\n            <Accordion allowToggle mt={4}>\n              <AccordionItem border=\"none\">\n                <AccordionButton p={0}>\n                  <Text color=\"brand.neutralGray\">Token Info</Text>\n                  <AccordionIcon />\n                </AccordionButton>\n                <AccordionPanel pb={4}>\n                  <Flex mt={[4, 8]}>\n                    <Text color=\"brand.neutralGray\">Minter:</Text>\n                    <Text color=\"brand.darkGray\" fontWeight=\"bold\" ml={[1]} whiteSpace=\"nowrap\" overflow=\"hidden\">\n                      <Link display=\"block\" whiteSpace=\"nowrap\" overflow=\"hidden\" textOverflow=\"ellipsis\" href={`/creator/${token?.metadata?.minter}`}>{\n                        token?.metadata?.minter}&nbsp;<sup><img src={lk} alt=\"\" width=\"auto\" height=\"auto\" style={{ display: 'inline-block' }} /></sup></Link>\n                    </Text>\n                  </Flex>\n                  <Flex mt={[4, 8]}>\n                    <Text color=\"brand.neutralGray\">Collection:</Text>\n                    <Text color=\"brand.darkGray\" fontWeight=\"bold\" ml={[1]} whiteSpace=\"nowrap\" overflow=\"hidden\">\n                      <Link display=\"block\" whiteSpace=\"nowrap\" overflow=\"hidden\" textOverflow=\"ellipsis\" href={`/collection/${contractAddress}`}>\n                        {state.selectedCollection ? state.collections[state.selectedCollection]?.metadata.name \n                          : collection?.metadata.name ? collection?.metadata.name \n                          : contractAddress\n                        }&nbsp;\n                        <sup><img src={lk} alt=\"\" width=\"auto\" height=\"auto\" style={{ display: 'inline-block' }} /></sup></Link>\n                    </Text>\n                  </Flex>\n                  {token?.metadata?.attributes?.map(({ name, value }) => (\n                    <Flex key={name + value} mt={[4, 8]}>\n                      <Text color=\"brand.neutralGray\">{name}:</Text>\n                      <Text display=\"block\" color=\"brand.darkGray\" fontWeight=\"bold\" ml={[1]} whiteSpace=\"nowrap\" overflow=\"hidden\" textOverflow=\"wrap\">\n                        {value}\n                      </Text>\n                    </Flex>\n                  ))}\n                </AccordionPanel>\n              </AccordionItem>\n            </Accordion>\n            <Flex display={['flex']} justifyContent=\"space-between\" alignItems=\"center\" width=\"100%\" flexDir={['column', 'row']} flexWrap=\"wrap\" marginTop={2}>\n              <Flex justifyContent={[\"flex-start\"]} alignItems=\"center\" width=\"100%\" marginTop={4}>\n                {token.sale ? (\n                  isOwner ? (\n                    <>\n                      <Text color=\"brand.black\" fontSize=\"xl\" fontWeight=\"700\" marginRight={8}>\n                        {token.sale.price} <img src={tz} alt=\"\" width={10} height=\"auto\" style={{ display: 'inline-block' }} />\n                      </Text>\n                      <Box marginRight={8}>\n                        <CancelTokenSaleButton\n                          contract={token.sale.saleToken.address}\n                          tokenId={token.sale.saleToken.tokenId}\n                          saleId={token.sale.saleId}\n                          saleType={token.sale.type}\n                        />\n                      </Box>\n                    </>\n                  ) : (\n                    <>\n                      <Text color=\"black\" fontSize={['md', 'md', 'lg']} mr={1} fontWeight=\"700\" marginRight={8}>\n                        {token.sale.price.toFixed(2)} <img src={tz} alt=\"\" width={10} height=\"auto\" style={{ display: 'inline-block' }} />\n                      </Text>\n                      <Box>\n                        <BuyTokenButton token={token} />\n                      </Box>\n                    </>\n                  )\n                ) : isOwner ? (\n                  <Box marginRight={8}>\n                    <SellTokenButton contract={contractAddress} tokenId={tokenId} />\n                  </Box>\n                ) : (\n                  <></>\n                )}\n                {isOwner ? (\n                  <Menu>\n                    <MinterMenuButton variant=\"primary\">\n                      <MoreHorizontal color=\"#25282B\" />\n                    </MinterMenuButton>\n                    <MenuList\n                      borderColor=\"brand.lightBlue\"\n                      borderRadius=\"2px\"\n                      p={0}\n                      minWidth={[100]}\n                    >\n                      {token.sale ? (\n                        <></>\n                      ) : (\n                        <MinterMenuItem\n                          w={[100]}\n                          variant=\"primary\"\n                          onClick={disclosure.onOpen}\n                        >\n                          Transfer\n                        </MinterMenuItem>\n                      )}\n                    </MenuList>\n                    <TransferTokenModal\n                      contractAddress={contractAddress}\n                      tokenId={tokenId}\n                      disclosure={disclosure}\n                    />\n                  </Menu>\n                ) : (\n                  <></>\n                )}\n              </Flex>\n            </Flex>\n          </Flex>\n        </Flex>\n      </Flex>\n    </Flex >\n  );\n}\n\nexport default TokenDetail;\n"]},"metadata":{},"sourceType":"module"}