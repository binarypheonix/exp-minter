{"ast":null,"code":"var _jsxFileName = \"/Users/frankenstein/projects/minter/src/components/CreateNonFungiblePage/index.tsx\";\nimport React, { useEffect } from 'react';\nimport { useLocation } from 'wouter';\nimport { Box, Flex, Text, useDisclosure } from '@chakra-ui/react';\nimport { MinterButton } from '../common';\nimport Form from './Form';\nimport FileUpload, { CsvFileUpload } from './FileUpload';\nimport CollectionSelect from './CollectionSelect'; // import Preview from './Preview';\n\nimport Confirmation from './Confirmation';\nimport { ChevronLeft, X } from 'react-feather';\nimport { useSelector, useDispatch } from '../../reducer';\nimport { clearForm, decrementStep, incrementStep, steps } from '../../reducer/slices/createNft';\nimport { mintTokenAction } from '../../reducer/async/actions';\nimport { validateCreateNftStep } from '../../reducer/validators/createNft';\nimport FormModal from '../common/modals/FormModal';\n\nfunction ProgressIndicator({\n  state\n}) {\n  const stepIdx = steps.indexOf(state.step);\n  return /*#__PURE__*/React.createElement(Flex, {\n    align: \"center\",\n    flexDir: \"column\",\n    flex: \"1\",\n    display: {\n      base: 'none',\n      md: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    width: \"200px\",\n    justifyContent: \"stretch\",\n    pb: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, steps.map((step, i) => {\n    const color = stepIdx >= i ? 'brand.blue' : 'brand.lightBlue';\n    return /*#__PURE__*/React.createElement(Box, {\n      key: step,\n      bg: color,\n      borderRadius: \"3px\",\n      height: \"5px\",\n      mx: 1,\n      flex: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Text, {\n    fontSize: \"xs\",\n    color: \"brand.gray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"STEP \", stepIdx + 1, \" OF \", steps.length));\n}\n\nfunction LeftContent() {\n  const step = useSelector(s => s.createNft.step);\n\n  switch (step) {\n    case 'file_upload':\n      return /*#__PURE__*/React.createElement(Box, {\n        w: \"100%\",\n        maxWidth: \"1200px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(FileUpload, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Flex, {\n        align: \"center\",\n        marginY: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        flex: \"1\",\n        borderBottom: \"1px solid\",\n        borderColor: \"brand.lightGray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Text, {\n        color: \"brand.blue\",\n        fontWeight: \"700\",\n        paddingX: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, \"OR\"), /*#__PURE__*/React.createElement(Box, {\n        flex: \"1\",\n        borderBottom: \"1px solid\",\n        borderColor: \"brand.lightGray\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(CsvFileUpload, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      }));\n\n    case 'asset_details':\n      return /*#__PURE__*/React.createElement(Box, {\n        w: \"100%\",\n        maxWidth: \"800px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }));\n\n    case 'collection_select':\n      return /*#__PURE__*/React.createElement(Box, {\n        w: \"100%\",\n        maxWidth: \"800px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CollectionSelect, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }));\n\n    case 'confirm':\n      return /*#__PURE__*/React.createElement(Box, {\n        w: \"100%\",\n        maxWidth: \"800px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Confirmation, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }));\n\n    default:\n      return null;\n  }\n}\n\nexport default function CreateNonFungiblePage() {\n  const {\n    system,\n    createNft: state\n  } = useSelector(s => s);\n  const dispatch = useDispatch();\n  const [, setLocation] = useLocation();\n  const disclosure = useDisclosure();\n  const {\n    onOpen\n  } = disclosure;\n  useEffect(() => {\n    if (system.status !== 'WalletConnected') {\n      setLocation('/');\n    }\n  });\n  const stepIsValid = validateCreateNftStep(state);\n  return /*#__PURE__*/React.createElement(Flex, {\n    flex: \"1\",\n    width: \"100%\",\n    minHeight: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    w: \"100%\",\n    h: \"100%\",\n    flexDir: \"column\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    w: \"100%\",\n    px: 8,\n    py: 4,\n    justify: \"space-between\",\n    align: \"center\",\n    borderBottomWidth: \"1px\",\n    borderBottomColor: \"brand.brightGray\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    flex: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MinterButton, {\n    variant: \"cancelAction\",\n    onClick: () => {\n      dispatch(clearForm());\n      setLocation('/collections');\n    },\n    display: \"flex\",\n    alignItems: \"center\",\n    color: \"brand.red\",\n    border: \"none\",\n    _hover: {\n      color: 'white',\n      textDecoration: 'underline',\n      borderColor: 'brand.red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    color: \"currentcolor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(X, {\n    size: 16,\n    strokeWidth: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Text, {\n    fontSize: 16,\n    ml: 1,\n    fontWeight: \"600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(ProgressIndicator, {\n    state: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Flex, {\n    flex: \"1\",\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MinterButton, {\n    visibility: state.step !== 'file_upload' ? 'visible' : 'hidden',\n    variant: \"primaryActionInverted\",\n    onClick: () => dispatch(decrementStep()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    color: \"currentcolor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ChevronLeft, {\n    size: 16,\n    strokeWidth: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Text, {\n    ml: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(MinterButton, {\n    variant: stepIsValid ? 'primaryAction' : 'primaryActionInactive',\n    onClick: () => {\n      if (!stepIsValid) return;\n\n      switch (state.step) {\n        case 'file_upload':\n          {\n            return dispatch(incrementStep());\n          }\n\n        case 'asset_details':\n          {\n            return dispatch(incrementStep());\n          }\n\n        case 'confirm':\n          {\n            return onOpen();\n          }\n      }\n    },\n    ml: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, state.step === 'confirm' ? 'Create' : 'Next'), /*#__PURE__*/React.createElement(FormModal, {\n    disclosure: disclosure,\n    method: \"mintToken\",\n    dispatchThunk: () => dispatch(mintTokenAction()),\n    onComplete: () => dispatch(clearForm()),\n    afterClose: () => setLocation('/collections'),\n    dispatchOnOpen: true,\n    pendingAsyncMessage: /*#__PURE__*/React.createElement(React.Fragment, null, \"Opening wallet...\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Text, {\n      fontSize: \"1rem\",\n      fontWeight: \"normal\",\n      marginTop: 4,\n      textAlign: \"center\",\n      color: \"gray.500\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"lightbulb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 21\n      }\n    }, \"\\uD83C\\uDF31\"), ' ', \"Minting on Tezos produces 1,500,000 times less CO2 emissions than Ethereum.\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Flex, {\n    width: \"100%\",\n    pt: 10,\n    px: {\n      base: 6,\n      md: 28\n    },\n    overflowY: \"auto\",\n    minHeight: \"0px\",\n    flex: \"1\",\n    flexDir: \"column\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LeftContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    pb: 10,\n    w: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/frankenstein/projects/minter/src/components/CreateNonFungiblePage/index.tsx"],"names":["React","useEffect","useLocation","Box","Flex","Text","useDisclosure","MinterButton","Form","FileUpload","CsvFileUpload","CollectionSelect","Confirmation","ChevronLeft","X","useSelector","useDispatch","clearForm","decrementStep","incrementStep","steps","mintTokenAction","validateCreateNftStep","FormModal","ProgressIndicator","state","stepIdx","indexOf","step","base","md","map","i","color","length","LeftContent","s","createNft","CreateNonFungiblePage","system","dispatch","setLocation","disclosure","onOpen","status","stepIsValid","textDecoration","borderColor"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,QAA5B;AACA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,IAApB,EAA0BC,aAA1B,QAA+C,kBAA/C;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,IAAqBC,aAArB,QAA0C,cAA1C;AACA,OAAOC,gBAAP,MAA6B,oBAA7B,C,CACA;;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,WAAT,EAAsBC,CAAtB,QAA+B,eAA/B;AAEA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,eAAzC;AACA,SACEC,SADF,EAGEC,aAHF,EAIEC,aAJF,EAKEC,KALF,QAMO,gCANP;AAOA,SAASC,eAAT,QAAgC,6BAAhC;AACA,SAASC,qBAAT,QAAsC,oCAAtC;AACA,OAAOC,SAAP,MAAsB,4BAAtB;;AAEA,SAASC,iBAAT,CAA2B;AAAEC,EAAAA;AAAF,CAA3B,EAAiE;AAC/D,QAAMC,OAAO,GAAGN,KAAK,CAACO,OAAN,CAAcF,KAAK,CAACG,IAApB,CAAhB;AACA,sBACE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAC,QADR;AAEE,IAAA,OAAO,EAAC,QAFV;AAGE,IAAA,IAAI,EAAC,GAHP;AAIE,IAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE,MADC;AAEPC,MAAAA,EAAE,EAAE;AAFG,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAC,OAAZ;AAAoB,IAAA,cAAc,EAAC,SAAnC;AAA6C,IAAA,EAAE,EAAE,CAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGV,KAAK,CAACW,GAAN,CAAU,CAACH,IAAD,EAAOI,CAAP,KAAa;AACtB,UAAMC,KAAK,GAAGP,OAAO,IAAIM,CAAX,GAAe,YAAf,GAA8B,iBAA5C;AACA,wBACE,oBAAC,GAAD;AACE,MAAA,GAAG,EAAEJ,IADP;AAEE,MAAA,EAAE,EAAEK,KAFN;AAGE,MAAA,YAAY,EAAC,KAHf;AAIE,MAAA,MAAM,EAAC,KAJT;AAKE,MAAA,EAAE,EAAE,CALN;AAME,MAAA,IAAI,EAAC,GANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAUD,GAZA,CADH,CATF,eAwBE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAC,IAAf;AAAoB,IAAA,KAAK,EAAC,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACQP,OAAO,GAAG,CADlB,UACyBN,KAAK,CAACc,MAD/B,CAxBF,CADF;AA8BD;;AAED,SAASC,WAAT,GAAuB;AACrB,QAAMP,IAAI,GAAGb,WAAW,CAACqB,CAAC,IAAIA,CAAC,CAACC,SAAF,CAAYT,IAAlB,CAAxB;;AACA,UAAQA,IAAR;AACE,SAAK,aAAL;AACE,0BACE,oBAAC,GAAD;AAAK,QAAA,CAAC,EAAC,MAAP;AAAc,QAAA,QAAQ,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAC,QAAZ;AAAqB,QAAA,OAAO,EAAE,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,GAAD;AACE,QAAA,IAAI,EAAC,GADP;AAEE,QAAA,YAAY,EAAC,WAFf;AAGE,QAAA,WAAW,EAAC,iBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAME,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAC,YAAZ;AAAyB,QAAA,UAAU,EAAC,KAApC;AAA0C,QAAA,QAAQ,EAAE,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eASE,oBAAC,GAAD;AACE,QAAA,IAAI,EAAC,GADP;AAEE,QAAA,YAAY,EAAC,WAFf;AAGE,QAAA,WAAW,EAAC,iBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CAFF,eAiBE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjBF,CADF;;AAqBF,SAAK,eAAL;AACE,0BACE,oBAAC,GAAD;AAAK,QAAA,CAAC,EAAC,MAAP;AAAc,QAAA,QAAQ,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;;AAKF,SAAK,mBAAL;AACE,0BACE,oBAAC,GAAD;AAAK,QAAA,CAAC,EAAC,MAAP;AAAc,QAAA,QAAQ,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;;AAKF,SAAK,SAAL;AACE,0BACE,oBAAC,GAAD;AAAK,QAAA,CAAC,EAAC,MAAP;AAAc,QAAA,QAAQ,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;;AAKF;AACE,aAAO,IAAP;AA1CJ;AA4CD;;AAED,eAAe,SAASU,qBAAT,GAAiC;AAC9C,QAAM;AAAEC,IAAAA,MAAF;AAAUF,IAAAA,SAAS,EAAEZ;AAArB,MAA+BV,WAAW,CAACqB,CAAC,IAAIA,CAAN,CAAhD;AACA,QAAMI,QAAQ,GAAGxB,WAAW,EAA5B;AACA,QAAM,GAAGyB,WAAH,IAAkBvC,WAAW,EAAnC;AACA,QAAMwC,UAAU,GAAGpC,aAAa,EAAhC;AACA,QAAM;AAAEqC,IAAAA;AAAF,MAAaD,UAAnB;AAEAzC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIsC,MAAM,CAACK,MAAP,KAAkB,iBAAtB,EAAyC;AACvCH,MAAAA,WAAW,CAAC,GAAD,CAAX;AACD;AACF,GAJQ,CAAT;AAMA,QAAMI,WAAW,GAAGvB,qBAAqB,CAACG,KAAD,CAAzC;AAEA,sBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAe,IAAA,KAAK,EAAC,MAArB;AAA4B,IAAA,SAAS,EAAC,GAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,CAAC,EAAC,MAAR;AAAe,IAAA,CAAC,EAAC,MAAjB;AAAwB,IAAA,OAAO,EAAC,QAAhC;AAAyC,IAAA,KAAK,EAAC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AACE,IAAA,CAAC,EAAC,MADJ;AAEE,IAAA,EAAE,EAAE,CAFN;AAGE,IAAA,EAAE,EAAE,CAHN;AAIE,IAAA,OAAO,EAAC,eAJV;AAKE,IAAA,KAAK,EAAC,QALR;AAME,IAAA,iBAAiB,EAAC,KANpB;AAOE,IAAA,iBAAiB,EAAC,kBAPpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,OAAO,EAAC,cADV;AAEE,IAAA,OAAO,EAAE,MAAM;AACbe,MAAAA,QAAQ,CAACvB,SAAS,EAAV,CAAR;AACAwB,MAAAA,WAAW,CAAC,cAAD,CAAX;AACD,KALH;AAME,IAAA,OAAO,EAAC,MANV;AAOE,IAAA,UAAU,EAAC,QAPb;AAQE,IAAA,KAAK,EAAC,WARR;AASE,IAAA,MAAM,EAAC,MATT;AAUE,IAAA,MAAM,EAAE;AACNR,MAAAA,KAAK,EAAE,OADD;AAENa,MAAAA,cAAc,EAAE,WAFV;AAGNC,MAAAA,WAAW,EAAE;AAHP,KAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAgBE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,CAAD;AAAG,IAAA,IAAI,EAAE,EAAT;AAAa,IAAA,WAAW,EAAC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAhBF,eAmBE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAE,EAAhB;AAAoB,IAAA,EAAE,EAAE,CAAxB;AAA2B,IAAA,UAAU,EAAC,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBF,CADF,CATF,eAkCE,oBAAC,iBAAD;AAAmB,IAAA,KAAK,EAAEtB,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlCF,eAmCE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAe,IAAA,OAAO,EAAC,UAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,UAAU,EAAEA,KAAK,CAACG,IAAN,KAAe,aAAf,GAA+B,SAA/B,GAA2C,QADzD;AAEE,IAAA,OAAO,EAAC,uBAFV;AAGE,IAAA,OAAO,EAAE,MAAMY,QAAQ,CAACtB,aAAa,EAAd,CAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAE,EAAnB;AAAuB,IAAA,WAAW,EAAC,GAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,eAQE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,CAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,CADF,eAWE,oBAAC,YAAD;AACE,IAAA,OAAO,EAAE2B,WAAW,GAAG,eAAH,GAAqB,uBAD3C;AAEE,IAAA,OAAO,EAAE,MAAM;AACb,UAAI,CAACA,WAAL,EAAkB;;AAClB,cAAQpB,KAAK,CAACG,IAAd;AACE,aAAK,aAAL;AAAoB;AAClB,mBAAOY,QAAQ,CAACrB,aAAa,EAAd,CAAf;AACD;;AACD,aAAK,eAAL;AAAsB;AACpB,mBAAOqB,QAAQ,CAACrB,aAAa,EAAd,CAAf;AACD;;AACD,aAAK,SAAL;AAAgB;AACd,mBAAOwB,MAAM,EAAb;AACD;AATH;AAWD,KAfH;AAgBE,IAAA,EAAE,EAAE,CAhBN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAkBGlB,KAAK,CAACG,IAAN,KAAe,SAAf,GAA2B,QAA3B,GAAsC,MAlBzC,CAXF,eA+BE,oBAAC,SAAD;AACE,IAAA,UAAU,EAAEc,UADd;AAEE,IAAA,MAAM,EAAC,WAFT;AAGE,IAAA,aAAa,EAAE,MAAMF,QAAQ,CAACnB,eAAe,EAAhB,CAH/B;AAIE,IAAA,UAAU,EAAE,MAAMmB,QAAQ,CAACvB,SAAS,EAAV,CAJ5B;AAKE,IAAA,UAAU,EAAE,MAAMwB,WAAW,CAAC,cAAD,CAL/B;AAME,IAAA,cAAc,EAAE,IANlB;AAOE,IAAA,mBAAmB,eACjB,4EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE,oBAAC,IAAD;AACE,MAAA,QAAQ,EAAC,MADX;AAEE,MAAA,UAAU,EAAC,QAFb;AAGE,MAAA,SAAS,EAAE,CAHb;AAIE,MAAA,SAAS,EAAC,QAJZ;AAKE,MAAA,KAAK,EAAC,UALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAM,MAAA,IAAI,EAAC,KAAX;AAAiB,oBAAW,WAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,EASU,GATV,gFAHF,CARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BF,CAnCF,CADF,eAgGE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE;AACFZ,MAAAA,IAAI,EAAE,CADJ;AAEFC,MAAAA,EAAE,EAAE;AAFF,KAHN;AAOE,IAAA,SAAS,EAAC,MAPZ;AAQE,IAAA,SAAS,EAAC,KARZ;AASE,IAAA,IAAI,EAAC,GATP;AAUE,IAAA,OAAO,EAAC,QAVV;AAWE,IAAA,KAAK,EAAC,QAXR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAaE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,eAcE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAa,IAAA,CAAC,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,CAhGF,CADF,CADF;AAqHD","sourcesContent":["import React, { useEffect } from 'react';\nimport { useLocation } from 'wouter';\nimport { Box, Flex, Text, useDisclosure } from '@chakra-ui/react';\nimport { MinterButton } from '../common';\nimport Form from './Form';\nimport FileUpload, { CsvFileUpload } from './FileUpload';\nimport CollectionSelect from './CollectionSelect';\n// import Preview from './Preview';\nimport Confirmation from './Confirmation';\nimport { ChevronLeft, X } from 'react-feather';\n\nimport { useSelector, useDispatch } from '../../reducer';\nimport {\n  clearForm,\n  CreateNftState,\n  decrementStep,\n  incrementStep,\n  steps\n} from '../../reducer/slices/createNft';\nimport { mintTokenAction } from '../../reducer/async/actions';\nimport { validateCreateNftStep } from '../../reducer/validators/createNft';\nimport FormModal from '../common/modals/FormModal';\n\nfunction ProgressIndicator({ state }: { state: CreateNftState }) {\n  const stepIdx = steps.indexOf(state.step);\n  return (\n    <Flex\n      align=\"center\"\n      flexDir=\"column\"\n      flex=\"1\"\n      display={{\n        base: 'none',\n        md: 'flex'\n      }}\n    >\n      <Flex width=\"200px\" justifyContent=\"stretch\" pb={2}>\n        {steps.map((step, i) => {\n          const color = stepIdx >= i ? 'brand.blue' : 'brand.lightBlue';\n          return (\n            <Box\n              key={step}\n              bg={color}\n              borderRadius=\"3px\"\n              height=\"5px\"\n              mx={1}\n              flex=\"1\"\n            />\n          );\n        })}\n      </Flex>\n      <Text fontSize=\"xs\" color=\"brand.gray\">\n        STEP {stepIdx + 1} OF {steps.length}\n      </Text>\n    </Flex>\n  );\n}\n\nfunction LeftContent() {\n  const step = useSelector(s => s.createNft.step);\n  switch (step) {\n    case 'file_upload':\n      return (\n        <Box w=\"100%\" maxWidth=\"1200px\">\n          <FileUpload />\n          <Flex align=\"center\" marginY={12}>\n            <Box\n              flex=\"1\"\n              borderBottom=\"1px solid\"\n              borderColor=\"brand.lightGray\"\n            />\n            <Text color=\"brand.blue\" fontWeight=\"700\" paddingX={5}>\n              OR\n            </Text>\n            <Box\n              flex=\"1\"\n              borderBottom=\"1px solid\"\n              borderColor=\"brand.lightGray\"\n            />\n          </Flex>\n          <CsvFileUpload />\n        </Box>\n      );\n    case 'asset_details':\n      return (\n        <Box w=\"100%\" maxWidth=\"800px\">\n          <Form />\n        </Box>\n      );\n    case 'collection_select':\n      return (\n        <Box w=\"100%\" maxWidth=\"800px\">\n          <CollectionSelect />\n        </Box>\n      );\n    case 'confirm':\n      return (\n        <Box w=\"100%\" maxWidth=\"800px\">\n          <Confirmation />\n        </Box>\n      );\n    default:\n      return null;\n  }\n}\n\nexport default function CreateNonFungiblePage() {\n  const { system, createNft: state } = useSelector(s => s);\n  const dispatch = useDispatch();\n  const [, setLocation] = useLocation();\n  const disclosure = useDisclosure();\n  const { onOpen } = disclosure;\n\n  useEffect(() => {\n    if (system.status !== 'WalletConnected') {\n      setLocation('/');\n    }\n  });\n\n  const stepIsValid = validateCreateNftStep(state);\n\n  return (\n    <Flex flex=\"1\" width=\"100%\" minHeight=\"0\">\n      <Flex w=\"100%\" h=\"100%\" flexDir=\"column\" align=\"center\">\n        <Flex\n          w=\"100%\"\n          px={8}\n          py={4}\n          justify=\"space-between\"\n          align=\"center\"\n          borderBottomWidth=\"1px\"\n          borderBottomColor=\"brand.brightGray\"\n        >\n          <Flex flex=\"1\">\n            <MinterButton\n              variant=\"cancelAction\"\n              onClick={() => {\n                dispatch(clearForm());\n                setLocation('/collections');\n              }}\n              display=\"flex\"\n              alignItems=\"center\"\n              color=\"brand.red\"\n              border=\"none\"\n              _hover={{\n                color: 'white',\n                textDecoration: 'underline',\n                borderColor: 'brand.red'\n              }}\n            >\n              <Box color=\"currentcolor\">\n                <X size={16} strokeWidth=\"3\" />\n              </Box>\n              <Text fontSize={16} ml={1} fontWeight=\"600\">\n                Cancel\n              </Text>\n            </MinterButton>\n          </Flex>\n          <ProgressIndicator state={state} />\n          <Flex flex=\"1\" justify=\"flex-end\">\n            <MinterButton\n              visibility={state.step !== 'file_upload' ? 'visible' : 'hidden'}\n              variant=\"primaryActionInverted\"\n              onClick={() => dispatch(decrementStep())}\n            >\n              <Box color=\"currentcolor\">\n                <ChevronLeft size={16} strokeWidth=\"3\" />\n              </Box>\n              <Text ml={2}>Back</Text>\n            </MinterButton>\n            <MinterButton\n              variant={stepIsValid ? 'primaryAction' : 'primaryActionInactive'}\n              onClick={() => {\n                if (!stepIsValid) return;\n                switch (state.step) {\n                  case 'file_upload': {\n                    return dispatch(incrementStep());\n                  }\n                  case 'asset_details': {\n                    return dispatch(incrementStep());\n                  }\n                  case 'confirm': {\n                    return onOpen();\n                  }\n                }\n              }}\n              ml={4}\n            >\n              {state.step === 'confirm' ? 'Create' : 'Next'}\n            </MinterButton>\n            <FormModal\n              disclosure={disclosure}\n              method=\"mintToken\"\n              dispatchThunk={() => dispatch(mintTokenAction())}\n              onComplete={() => dispatch(clearForm())}\n              afterClose={() => setLocation('/collections')}\n              dispatchOnOpen={true}\n              pendingAsyncMessage={\n                <>\n                  Opening wallet...\n                  <br />\n                  <Text\n                    fontSize=\"1rem\"\n                    fontWeight=\"normal\"\n                    marginTop={4}\n                    textAlign=\"center\"\n                    color=\"gray.500\"\n                  >\n                    <span role=\"img\" aria-label=\"lightbulb\">\n                      ðŸŒ±\n                    </span>{' '}\n                    Minting on Tezos produces 1,500,000 times less CO2 emissions\n                    than Ethereum.\n                  </Text>\n                </>\n              }\n            />\n          </Flex>\n        </Flex>\n        <Flex\n          width=\"100%\"\n          pt={10}\n          px={{\n            base: 6,\n            md: 28\n          }}\n          overflowY=\"auto\"\n          minHeight=\"0px\"\n          flex=\"1\"\n          flexDir=\"column\"\n          align=\"center\"\n        >\n          <LeftContent />\n          <Box pb={10} w=\"100%\" />\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}